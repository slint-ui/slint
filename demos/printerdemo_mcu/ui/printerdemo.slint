// Copyright Â© SixtyFPS GmbH <info@slint.dev>
// SPDX-License-Identifier: MIT

import { DemoPalette, Page, Pages, SubPages, PrinterState } from "common.slint";
import { SideBar } from "components/SideBar.slint";
import { HomePage } from "./home_page.slint";
import { InkPage } from "./ink_page.slint";
import { SettingsPage } from "./settings_page.slint";
import { PrinterQueue } from "./printer_queue.slint";

// re-export for the native code
export { PrinterQueue, PrinterState }

import "./fonts/Inter-24pt-Regular.ttf";
import "./fonts/Inter-24pt-Medium.ttf";


export component MainWindow inherits Window {
    min-width: 320px;
    min-height: 240px;
    preferred-width: self.min-width;
    preferred-height: self.min-height;
    title: "Slint printer demo";
    default-font-family: DemoPalette.medium-font-family;
    default-font-size: DemoPalette.base-font-size;

    callback quit();

    HorizontalLayout {
        sidebar := SideBar {}

        main-view := Rectangle {
            background: DemoPalette.page-background;

            if PrinterState.active-page == Pages.home:home-page := HomePage { }

            if PrinterState.active-page == Pages.ink : InkPage { }

            if PrinterState.active-page == Pages.settings : SettingsPage { }
        }
    }

    screen-corners :=Rectangle {
        width: parent.width + self.border-width * 2;
        height: parent.height + self.border-width * 2;
        property <length> test: 40px;
        border-radius: 30px;
        border-width: 10px;
        border-color: #212e4a;
    }
}
