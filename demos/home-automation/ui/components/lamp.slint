// Copyright Â© SixtyFPS GmbH <info@slint.dev>
// SPDX-License-Identifier: MIT
import { Palette, Measurements, Colors, Style } from "../common.slint";
import { FancySlider } from "general/fancySlider.slint";
import { InnerShadowRectangle } from "general/innerShadowRectangle.slint";
import { Control } from "control.slint";
import { AppState } from "../appState.slint";
import { HaText } from "general/haText.slint";
import { DropShadowToggle} from "general/toggle.slint";


export component Lamp inherits Control {
    in property <length> tilePadding: (root.height > Measurements.small-height-tile) ? 18px : 9px;
    show-label: false;
    tile-shadow-blur: 0px;

    tile := Rectangle {
        width: 100%;
        height: 100%;

        Rectangle {
            x: tile.width - self.width + 20px;
            width: 70%;
            height: 100%;

            Image {
                y: 0;
                source: @image-url("../images/lamp/0000.png");
            }
            Image {
                y: 0;
                source: @image-url("../images/lamp/0024.png");
                opacity: slider.value / 24;
            }
        }

        v := VerticalLayout {
            padding: tilePadding;
            width: 100%;
            height: 100%;
            alignment: space-between;
            Rectangle {
                width: 100%;

                VerticalLayout {
                    alignment: start;
                    HaText {
                        text: root.name;
                        font-size: Style.tile-title-font-size;
                        font-weight: 200;
                        color: white;
                    }
                }
            }

            slider := FancySlider {
                maxValue: 24;
                value: self.maxValue;
                width: root.width * 0.8;
                icon: @image-url("../images/brightness.svg");
                colorize-icon: Colors.black;
            }
        }
    }
}
