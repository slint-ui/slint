// Copyright Â© SixtyFPS GmbH <info@slint.dev>
// SPDX-License-Identifier: MIT

import { CheckBox, Label, DemoPalette, PrinterData } from "../common.slint";
import { Page, Header } from "./page.slint";
import { DropDownMenu } from "../components/drop_down_menu.slint";

export global PrinterSettings {
    callback change-language(int);
}

export component SettingsPage inherits Page {
    header: @tr("Settings");
    header-type: Header.plain;


    GridLayout {
        padding: DemoPalette.default-margin;
        spacing: 16px;
        width: parent.width;
        height: self.preferred-height;
        Row {
            Text {
                colspan: 4;
                text: @tr("General");
                color: DemoPalette.secondary-foreground-color;
                font-size: DemoPalette.base-font-size * 1.125;
            }
        }

        Row {
            Label {
                font-size: 18px;
                text: @tr("TURBO mode");
            }

            CheckBox {
                checked <=> PrinterData.settings-turbo-mode;
            }

            Rectangle { }

            Label {
                text: @tr("Power Management");
            }

            CheckBox {
                checked <=> PrinterData.settings-eco-mode;
                text: @tr("Eco Mode");
            }
        }

        Row {
            Text {
                colspan: 4;
                text: @tr("Defaults");
                color: DemoPalette.secondary-foreground-color;
                font-size: DemoPalette.base-font-size * 1.125;
            }
        }

        Row {
            Label {
                text: @tr("Layout");
            }

            DropDownMenu {
                items: [@tr("Portrait"), @tr("Landscape")];
                current_index <=> PrinterData.settings-layout-index;
            }

            Rectangle { }

            Label {
                text: @tr("Paper Tray");
            }

            DropDownMenu {
                items: [@tr("Special Tray"), @tr("Tray 1"), @tr("Tray 2")];
                current_index <=> PrinterData.settings-tray-index;
            }
        }

        Row {
            Label {
                text: @tr("Quality");
            }

            DropDownMenu {
                items: [@tr("Best"), @tr("Medium"), @tr("Draft")];
                current_index <=> PrinterData.settings-quality-index;
            }

            Rectangle { }

            Label {
                text: @tr("Language");
            }

            DropDownMenu {
                items: [@tr("English"), @tr("French")];
                current_index <=> PrinterData.settings-language-index;
                selected(index) => {
                    PrinterSettings.change_language(index);
                }
            }
        }

        Row {
            Label {
                text: @tr("Color Mode");
            }

            DropDownMenu {
                items: [@tr("Grayscale"), @tr("Color")];
                current_index <=> PrinterData.settings-color-mode-index;
            }

            Rectangle { }

            Label {
                text: @tr("Paper Handling");
            }

            CheckBox {
                checked <=> PrinterData.settings-sort-pages;
                text: @tr("Sort Pages");
            }
        }

        Row {
            Rectangle { }
        }
    }
}
