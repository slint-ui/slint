// Copyright Â© SixtyFPS GmbH <info@slint.dev>
// SPDX-License-Identifier: MIT

import { DemoPalette } from "../common.slint";
import { Button } from "./button.slint";

export enum ButtonType {
    Primary,
    Destructive,
}

export component IconTextButton inherits Button {
    in property <image> icon <=> img.source;
    in property <string> text <=> label.text;
    in property <brush> icon-color <=> img.colorize;
    in property <brush> text-color <=> label.color;
    in property font-size <=> label.font-size;
    in property <ButtonType> button-type: ButtonType.Primary;
    property <brush> primary-button-color: self.hovered ? DemoPalette.primary-button.darker(0.2) : DemoPalette.primary-button;
    property <brush> destructive-button-color: self.hovered ? DemoPalette.destructive-button.darker(0.2) : DemoPalette.destructive-button;

    height: 40px;
    border-radius: 14px;

    background: button-type == ButtonType.Primary ? primary-button-color : destructive-button-color;

    HorizontalLayout {
        spacing: 10px;
        padding-left: 14px;
        padding-right: 14px;
        alignment: center;

        img := Image {
            width: 22px;
            height: self.width;
            image-fit: contain;
            y: (parent.height - self.height) / 2;
            colorize: button-type == ButtonType.Primary ? DemoPalette.primary-button-text-color : DemoPalette.destructive-button-text-color;
        }

        label := Text {
            font-size: DemoPalette.base-font-size;
            vertical-alignment: center;

            color: button-type == ButtonType.Primary ? DemoPalette.primary-button-text-color : DemoPalette.destructive-button-text-color;
        }
    }
}
