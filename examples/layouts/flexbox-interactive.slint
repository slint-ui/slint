// Copyright © Klarälvdalens Datakonsult AB, a KDAB Group company, info@kdab.com, author David Faure <david.faure@kdab.com>
// SPDX-License-Identifier: MIT

import { ComboBox } from "std-widgets.slint";

component Cell inherits Rectangle {
    border-width: 1phx;
    border-color: #888;
    background: #f0f0f0;
    HorizontalLayout {
        padding: 10phx;
        Text {
            color: #000000;
            text: cell_text;
            vertical-alignment: center;
            horizontal-alignment: center;
        }
    }

    in property <string> cell_text;
}

export component MainWindow inherits Window {
    title: "FlexBox Layout - Direction Test";
    default-font-size: 20px;

    property <[string]> names: ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"];
    property <[string]> direction_options: ["Row", "RowReverse", "Column", "ColumnReverse"];
    property <[FlexDirection]> direction_values: [
        FlexDirection.row,
        FlexDirection.row-reverse,
        FlexDirection.column,
        FlexDirection.column-reverse
    ];
    property <[string]> alignment_options: ["Start", "End", "Center", "SpaceBetween", "SpaceAround", "SpaceEvenly"];
    property <[LayoutAlignment]> alignment_values: [
        LayoutAlignment.start,
        LayoutAlignment.end,
        LayoutAlignment.center,
        LayoutAlignment.space-between,
        LayoutAlignment.space-around,
        LayoutAlignment.space-evenly
    ];
    property <[string]> align_content_options: ["Stretch", "Start", "End", "Center"];
    property <[FlexAlignContent]> align_content_values: [
        FlexAlignContent.stretch,
        FlexAlignContent.start,
        FlexAlignContent.end,
        FlexAlignContent.center
    ];
    property <[string]> align_items_options: ["Stretch", "Start", "End", "Center"];
    property <[FlexAlignItems]> align_items_values: [
        FlexAlignItems.stretch,
        FlexAlignItems.start,
        FlexAlignItems.end,
        FlexAlignItems.center
    ];

    VerticalLayout {
        padding: 20phx;
        spacing: 20phx;

        HorizontalLayout {
            spacing: 10phx;
            Text {
                text: "Flex Direction:";
                vertical-alignment: center;
            }

            direction_combo := ComboBox {
                model: direction_options;
                current-index: 0;
            }

            Text {
                text: "Alignment:";
                vertical-alignment: center;
            }

            alignment_combo := ComboBox {
                model: alignment_options;
                current-index: 0;
            }
        }

        HorizontalLayout {
            spacing: 10phx;
            Text {
                text: "Align Content:";
                vertical-alignment: center;
            }

            align_content_combo := ComboBox {
                model: align_content_options;
                current-index: 0;
            }

            Text {
                text: "Align Items:";
                vertical-alignment: center;
            }

            align_items_combo := ComboBox {
                model: align_items_options;
                current-index: 0;
            }
        }

        flex_container := Rectangle {
            border-width: 2phx;
            border-color: #333;
            background: white;
            vertical-stretch: 1;

            FlexBoxLayout {
                flex-direction: direction_values[direction_combo.current-index];
                alignment: alignment_values[alignment_combo.current-index];
                align-content: align_content_values[align_content_combo.current-index];
                align-items: align_items_values[align_items_combo.current-index];
                padding: 10phx;
                spacing: 10phx;

                for text in names: Cell {
                    cell_text: text;
                    width: 80phx;
                    height: 60phx;
                }
            }
        }
    }
}
