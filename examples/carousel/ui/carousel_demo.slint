import { NavigationItem } from "navigation_item.slint";
import { Carousel } from "carousel.slint";
import { Card } from "card.slint";
import { Theme } from "theme.slint";
import { SettingsPage } from "settings_page.slint";

MainWindow := Window {
    property<[NavigationItem]> navigation-items: [
       { title: "Home", image: @image-url("icons/home_black_24dp.svg") },
       { title: "Settings", image: @image-url("icons/settings_black_24dp.svg") },
       { title: "About", image: @image-url("icons/info_black_24dp.svg") },
    ];
    property <int> selected-index: 0;
    property <bool> show-page: false;

    title: "Carousel example";
    preferred-width: 600px;
    preferred-height: 400px;
    background: Theme.window-background;
    forward-focus: carousel;
    padding: Theme.spacing-big;

    carousel := Carousel {  
        y: (root.height - height) / 2;
        // width of a `Card`
        itemWidth: Theme.size-medium;
        count: navigation-items.length;
        selected-index <=> root.selected-index;
        spacing: Theme.spacing-medium;
       
        for item[index] in navigation-items : Card {
            is-selected: index == selected-index;
            title: item.title;
            image-source: item.image;
            y: (parent.height - height) / 2;
            clicked => { selected-index = index; }
        }

        enter => { show-page = true; }
    }

    if show-page : Rectangle {
        background: green;

        if selected-index == 1 : SettingsPage {

        }
    }
}