// Copyright Â© SixtyFPS GmbH <info@slint.dev>
// SPDX-License-Identifier: GPL-3.0-only OR LicenseRef-Slint-Royalty-free-2.0 OR LicenseRef-Slint-Software-3.0

import { Icons } from "../../components/styling.slint";
export component ColorIndicator {
    width: 15px;
    height: self.width;
    in property <color> color;
    property <{hue: float, saturation: float, value: float}> hsv-color: color.to-hsv();
    callback clicked <=> ta.clicked;
    
    Rectangle {
        width: 100%;
        height: 100%;
        border-radius: 3px;
        clip: true;
        Rectangle {
            x: 0;
            width: 50%;
            background: hsv(hsv-color.hue, hsv-color.saturation, hsv-color.value);
        }

        Rectangle {
            x: parent.width / 2;
            width: 50%;
            background: white;
            Image {
                width: 100%;
                height: 100%;
                vertical-alignment: top;
                horizontal-alignment: left;
                source: Icons.checkerboard-tiny;
                vertical-tiling: repeat;
                horizontal-tiling: repeat;
                colorize: #e1e1e1;
            }

            Rectangle {
                background: root.color;
            }
        }
        ta := TouchArea {}
    }
}
