// Copyright © Klarälvdalens Datakonsult AB, a KDAB Group company, info@kdab.com, author David Faure <david.faure@kdab.com>
// SPDX-License-Identifier: GPL-3.0-only OR LicenseRef-Slint-Royalty-free-2.0 OR LicenseRef-Slint-Software-3.0

// Test FlexBoxLayout column direction with varying item widths

export component TestCase inherits Window {
    width: 200px;
    height: 250px;

    // Items with varying widths and multiple columns
    FlexBoxLayout {
        flex-direction: column;
        spacing: 5px;
        padding: 0px;

        r1 := Rectangle {
            width: 50px;
            height: 40px;
            background: red;
        }

        r2 := Rectangle {
            width: 50px;
            height: 40px;
            background: green;
        }

        r3 := Rectangle {
            width: 60px;
            height: 40px;
            background: blue;
        }

        r4 := Rectangle {
            width: 50px;
            height: 40px;
            background: yellow;
        }
    }

    // r1 and r2 fit in first column (40+5+40=85 < 250)
    // r3 and r4 fit in first column too (85+5+40+5+40=175 < 250)
    // All items stay in one column
    out property <bool> test: r1.x == 0px && r1.y == 0px && r2.x == 0px && r2.y == 45px && r3.x == 0px && r3.y == 90px && r4.x == 0px && r4.y == 135px;
}

/*
```cpp
auto handle = TestCase::create();
assert(handle->get_test());
```

```rust
let instance = TestCase::new().unwrap();
assert!(instance.get_test());
```
*/
