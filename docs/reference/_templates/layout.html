{% extends "!layout.html" %}

{% block extrahead %}
    <!-- Custom styles and script to prevent FOUC -->
    <style>
        body {
            visibility: hidden;  /* Hide body until the theme is applied */
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'light';  // Default to light theme
            document.documentElement.setAttribute('data-theme', savedTheme);
            document.body.style.visibility = 'visible';  // Make visible once theme is applied
        });
    </script>
{% endblock extrahead %}

{% block scripts_end %}
    {{ super() }}
{% endblock %}
