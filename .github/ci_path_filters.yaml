# Copyright Â© SixtyFPS GmbH <info@slint.dev>
# SPDX-License-Identifier: GPL-3.0-only OR LicenseRef-Slint-Royalty-free-2.0 OR LicenseRef-Slint-Software-3.0

ci_config: &ci_config
 - '.github/**'
 - '.mise/**'

files_in_root: &files_in_root
 - '*!(/)' # changes in the root, such as cspell.json or pnpm-lock.yaml
 - '.*'

slint:
 - 'api/**'
 - 'cmake/**'
 - 'demos/**'
 - 'docker/**'
 - 'docs/**'
 - 'editors/**'
 - 'examples/**'
 - 'helper_crates/**'
 - 'internal/**'
 - 'logo/**'
 - 'scripts/**'
 - 'tests/**'
 - 'tools/compiler/**'
 - 'tools/docsnapper/**'
 - 'tools/figma_import/**'
 - 'tools/lsp/**'
 - 'tools/slintpad/**'
 - 'tools/tr-extractor/**'
 - 'tools/updater/**'
 - 'tools/viewer/**'
 - 'xtask/**'
 - *files_in_root
 - *ci_config

figma_inspector:
 - 'tools/figma-inspector/**'
 - *files_in_root
 - *ci_config

material_components:
 - 'ui-libraries/material/**'
 - *files_in_root
 - *ci_config

internal: &internal
 - 'internal/**'
 - 'helper_crates/**'
 - 'Cargo.toml' # the root Cargo.toml
 - '.cargo/**'
 # The API specific tests don't depends on renderer or backend, but they do depend on the Qt widgets and the testing backend
 - '!internal/renderers/**'
 - '!internal/backends/winit/**'
 - '!internal/backends/linuxkms/**'
 - '!internal/backends/android-activity/**'
 - *ci_config

api_cpp:
 - 'api/cpp/**'
 - 'tools/compiler/**'
 - *ci_config

api_python:
 - 'api/python/**'
 - *ci_config

api_node:
 - 'api/node/**'
 - 'package.json'
 - 'package-lock.json'
 - 'pnpm-workspace.yaml'
 - '.npmrc'
 - *ci_config

api_rs:
 - 'api/rs/**'
 - 'Cargo.toml'
 - *ci_config

tests:
 - 'tests/**'

examples:
 - 'examples/**'
 - 'demos/**'
 - 'examples/servo/**' # Handled separately

vsce:
 - *files_in_root
 - *ci_config
 - *internal
 - 'api/rs/**'
 - 'editors/vscode/**'
 - 'tools/lsp/**'
 - 'docs/common/src/utils/slint.tmLanguage.json'

slintpad:
 - *internal
 - 'tools/slintpad/**'
 - 'api/wasm-interpreter/**'
 - 'tools/lsp/**'
 - 'api/rs/**'
 - 'docs/common/src/utils/slint.tmLanguage.json'

updater_test:
 - *internal
 - 'tests/cases/**'
 - 'tools/updater/**'

servo_example:
 - 'examples/servo/**'
 - *ci_config
